<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Tracking - PathforaJS SDK</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/examples.css" rel="stylesheet" />
        <link href="../assets/vendor/formbuilder.min.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Tracking";
        var mkdocs_page_input_path = "tracking.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> PathforaJS SDK
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Pathfora JS</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Modules</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >API Reference</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../api/methods/">Methods</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../api/config/">Generalized Configuration</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Types</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../types/message/">Message</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../types/form/">Form</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../types/subscription/">Subscription</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../types/gate/">Gate</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Layouts</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../layouts/modal/">Modal</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../layouts/slideout/">Slideout</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../layouts/bar/">Bar</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../layouts/button/">Button</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../layouts/inline/">Inline</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Customization</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../customization/buttons/">Action Buttons</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../customization/themes/">Color Themes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../customization/css/">Custom CSS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../customization/form/">Form Elements</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../customization/form_builder/">Form Schema Builder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../customization/form_legacy/">Form Elements (Legacy)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../customization/responsive/">Responsive Styles</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../customization/entity_fields/">Entity Fields</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ab_testing/">A/B Testing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../targeting/">Audience Targeting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../callbacks/">Callbacks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../content_recommend/">Content Recommendations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../display_conditions/">Display Conditions</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Tracking</a>
    <ul class="current">
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Inline Personalization</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../toggle/">Element Toggle</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../inline_content/">Inline Content Recommendations</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">PathforaJS SDK</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Modules</li>
      <li class="breadcrumb-item active">Tracking</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p>Pathfora can send tracking events and the user data submitted to Lytics and Google Analytics. As long as your tags are all set up in the correct order, module data will be sent Lytics automatically. Below we will look at which data fields are sent in detail and their formats.</p>
<h2 id="censortrackingkeys">censorTrackingKeys</h2>
<p>This option exposes the capability to censor keys from payloads sent into Lytics. Any keys included as strings, or matching patterns as regular expressions that should be omitted from all payloads.</p>
<table>
  <thead>
    <tr>
      <td colspan="2" align="center"><code>censorTrackingKeys</code>  array of string and/or regular expressions</td>
    </tr>
    <tr>
      <th>Value</th>
      <th>Behavior</th>
    </tr>
  </thead>

  <tr>
    <td>array of strings</td>
    <td>keys which match any of the strings exactly will be censored from any payloads sent to Lytics</td>
  </tr>
  <tr>
    <td>array of regular expressions</td>
    <td>any key which matches any of the regular expression patterns will be censored from any payloads sent to Lytics</td>
  </tr>
</table>

<pre><code class="language-javascript">// help ensure compliance with industry-specific PII regulations by censoring form data,
var widget = new pathfora.Form({
  // other configuration options elided
  censorTrackingKeys: [/pf-form/],
});
</code></pre>
<h2 id="lytics">Lytics</h2>
<p>As long as your <a href="https://docs.lytics.com/docs/lytics-javascript-tag">Lytics JavaScript tag</a> is loaded before the Pathfora tag, all event data and data collected from modules with user input will be sent to the the stream <a href="https://docs.lytics.com/docs/lytics-javascript-tag">configured in your Lytics JavaScript tag</a>. The following raw data fields can be sent to Lytics by Pathfora.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pf-widget-id</code></td>
<td>string</td>
<td>id of the module set in the config</td>
</tr>
<tr>
<td><code>pf-widget-type</code></td>
<td>string</td>
<td>type of the module</td>
</tr>
<tr>
<td><code>pf-widget-layout</code></td>
<td>string</td>
<td>layout of the module</td>
</tr>
<tr>
<td><code>pf-widget-variant</code></td>
<td>int</td>
<td>variant of the module</td>
</tr>
<tr>
<td><code>pf-widget-event</code></td>
<td>string</td>
<td>name of the event (see below)</td>
</tr>
<tr>
<td><code>pf-widget-action</code></td>
<td>string</td>
<td>custom tracking names for button click events as defined in <a href="../callbacks/#confirmaction">confirmAction</a> or <a href="../callbacks/#cancelaction">cancelAction</a></td>
</tr>
<tr>
<td><code>pf-form-username</code></td>
<td>string</td>
<td>user submitted value of "name" field on module</td>
</tr>
<tr>
<td><code>pf-form-title</code></td>
<td>string</td>
<td>user submitted value of "title" field on module</td>
</tr>
<tr>
<td><code>pf-form-email</code></td>
<td>string</td>
<td>user submitted value of "email" field on module</td>
</tr>
<tr>
<td><code>pf-form-message</code></td>
<td>string</td>
<td>user submitted value of "message" field on module</td>
</tr>
<tr>
<td><code>pf-form-company</code></td>
<td>string</td>
<td>user submitted value of "company" field on module</td>
</tr>
<tr>
<td><code>pf-form-phone</code></td>
<td>string</td>
<td>user submitted value of "phone number" field on module</td>
</tr>
</tbody>
</table>
<table>
  <thead>
    <tr>
      <td colspan="2" align="center"><code>pf-widget-event</code> string</td>
    </tr>
    <tr>
      <th>Value</th>
      <th>Behavior</th>
    </tr>
  </thead>

  <tr>
    <td>show</td>
    <td>module was displayed to the user</td>
  </tr>
  <tr>
    <td>close</td>
    <td>module was closed by the user</td>
  </tr>
  <tr>
    <td>confirm</td>
    <td>"confirm" CTA button was clicked by the user</td>
  </tr>
  <tr>
    <td>cancel</td>
    <td>"cancel" button was clicked by the user</td>
  </tr>
  <tr>
    <td>submit</td>
    <td>user submitted information from a <a href="../types/form">form module</a></td>
  </tr>
  <tr>
    <td>subscribe</td>
    <td>user submitted email from a <a href="../types/subscription">subscription module</a></td>
  </tr>
  <tr>
    <td>unlock</td>
    <td>user submitted information from a <a href="../types/gate">gate module</a></td>
  </tr>
  <tr>
    <td>hover</td>
    <td>indicates that the user hovered over a button on the modal, name of button is recorded by <code>pf-widget-action</code></td>
  </tr>
  <tr>
    <td>focus</td>
    <td>indicates that a form element on a modal received focus, name of the form field is recorded by <code>pf-widget-action</code></td>
  </tr>
  <tr>
    <td>form_started</td>
    <td>indicates that a user began typing in a form element on the modal, name of the form field is recorded by <code>pf-widget-action</code></td>
  </tr>
</table>

<p>To verify that the event data fields are being sent properly to Lytics, you can simulate an action by interacting with your module and checking that the expected fields exist in the data streams section of your Lytics Account.</p>
<p>By default these fields are available as user fields so that you can use them in the creation of segments. If you need help using these fields or would like to map the user fields differently please contact your customer success representative <code>success@getlytics.com</code>.</p>
<h2 id="google-analytics">Google Analytics</h2>
<p>To enable this data to be sent to Google Analytics set the <code>enableGA</code> flag before loading any module configs in your code:</p>
<pre><code class="language-js">window.pathfora.enableGA = true;
</code></pre>
<p>If this flag is enabled, pathfora will send event data from the modules on your website to your Google Analytics account as long as it has access to the <code>ga</code> function. This requires that you have the <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/">analytics.js snippet</a> on your website loaded before the Pathfora tag. An event sent to Google Analytics by Pathfora will use the following attributes for <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/events#overview">event tracking</a>:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>eventCategory</td>
<td>string</td>
<td>Lytics</td>
</tr>
<tr>
<td>eventAction</td>
<td>string</td>
<td>[id of module] : [event name]</td>
</tr>
</tbody>
</table>
<p>The <code>[event name]</code> signifier in eventAction will match the event names for the <code>pf-widget-event</code> field <a href="#lytics">sent to Lytics</a>. However, if you've defined custom names in the <a href="../callbacks/#confirmaction">confirmAction</a> or <a href="../callbacks/#cancelaction">cancelAction</a> settings this will override the event name for those actions.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../display_conditions/" class="btn btn-neutral float-left" title="Display Conditions"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../toggle/" class="btn btn-neutral float-right" title="Element Toggle">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../display_conditions/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../toggle/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
      <script src="../assets/pre.js"></script>
      <script src="../assets/builder.js"></script>
      <script src="../assets/vendor/formbuilder.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
