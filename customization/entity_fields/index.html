<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Entity Fields - PathforaJS SDK</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../assets/examples.css" rel="stylesheet">
  <link href="../../assets/vendor/formbuilder.min.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Entity Fields";
    var mkdocs_page_input_path = "customization/entity_fields.md";
    var mkdocs_page_url = "/customization/entity_fields/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <script src="../../assets/pre.js"></script>
  <script src="../../assets/builder.js"></script>
  <script src="../../assets/vendor/formbuilder.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> PathforaJS SDK</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Pathfora JS</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Modules</span></li>

        
            
    <ul class="subnav">
    <li><span>API Reference</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/methods/">Methods</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/config/">Generalized Configuration</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Types</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../types/message/">Message</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../types/form/">Form</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../types/subscription/">Subscription</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../types/gate/">Gate</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Layouts</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../layouts/modal/">Modal</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../layouts/slideout/">Slideout</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../layouts/bar/">Bar</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../layouts/button/">Button</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../layouts/inline/">Inline</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Customization</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../buttons/">Action Buttons</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../themes/">Color Themes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../css/">Custom CSS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../form/">Form Elements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../form_builder/">Form Schema Builder</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../form_legacy/">Form Elements (Legacy)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../responsive/">Responsive Styles</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Entity Fields</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#entity-field-templates">Entity Field Templates</a></li>
                
            
                <li class="toctree-l3"><a href="#defining-a-fallback-default-value">Defining a Fallback (default) Value</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ab_testing/">A/B Testing</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../targeting/">Audience Targeting</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../callbacks/">Callbacks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../content_recommend/">Content Recommendations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../display_conditions/">Display Conditions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tracking/">Tracking</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Inline Personalization</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../toggle/">Element Toggle</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../inline_content/">Inline Content Recommendations</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">PathforaJS SDK</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Modules &raquo;</li>
        
      
        
          <li>Customization &raquo;</li>
        
      
    
    <li>Entity Fields</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>If you have a whitelisted entity fields in Lytics or a custom data field in javascript, you can include them in your message, headline, or image field using a simple template that pathfora will recognize and replace with field data. These dynamic field templates allow you to further personalize the customer experience of your module.</p>
<h1 id="entity-field-templates">Entity Field Templates</h1>
<p>Any field that is available via <code>window.lio.data</code> can be placed into a module's message, headline, or image. For example, if you wanted to include the user's name in the headline of a module:</p>
<pre><code class="javascript">var module = new pathfora.Message({
  id: 'welcome-back',
  layout: 'modal',
  headline: 'Welcome back, {{name}}.',
  msg: 'Thanks for returning. Please check out our new products.'
});

pathfora.initializeWidgets([module]);
</code></pre>

<p>Pathfora will attempt to replace <code>{{name}}</code> with the value of <code>window.lio.data.name</code>. Similarly, if you wanted to include a subfield, you can use dot notation in the template. <code>{{last_cta.resource}}</code> would be replaced with the value of <code>window.lio.data.last_cta.resource</code>.</p>
<p>In addition to using Lytics entity fields, you can pass pathfora the value of a field to include in a module using the <code>window.pathfora.customData</code> object: </p>
<pre><code class="javascript">pathfora.customData.name = 'Jon Snow';
</code></pre>

<p>For example, if a user submits a form on your website asking for their info and you would like to immediately use this data in a module, you can add it to the customData object before initializing the widget and use an entity field template.</p>
<p>If the data isn't present for the user viewing the modal there are a couple options available to control the behavior of the module. By default if there is no fallback defined for the field, pathfora will prevent the module from being displayed for visitors who lack the necessary fields. This behavior can be changed with the <a href="../../display_conditions/#showonmissingfields">showOnMissingFields</a> display condition.</p>
<h1 id="defining-a-fallback-default-value">Defining a Fallback (default) Value</h1>
<p>Alternatively, we can define a fallback or "default" value to be shown in case the user is missing the data. To define a fallback value, place it after the field name and a <code>|</code> character in the template. Building from the previous example:</p>
<pre><code class="javascript">var module = new pathfora.Message({
  id: 'welcome-back',
  layout: 'modal',
  headline: 'Welcome back, {{name | Valued Customer}}.',
  msg: 'Thanks for returning. Please check out our new products.'
});

pathfora.initializeWidgets([module]);
</code></pre>

<p>In this example all visitors who lack the "name" field will be greeted with "Wecome back, Valued Customer".</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../ab_testing/" class="btn btn-neutral float-right" title="A/B Testing">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../responsive/" class="btn btn-neutral" title="Responsive Styles"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../responsive/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../ab_testing/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
