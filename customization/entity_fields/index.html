<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Entity Fields - PathforaJS SDK</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../../assets/examples.css" rel="stylesheet" />
  <link href="../../assets/vendor/formbuilder.min.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Entity Fields";
    var mkdocs_page_input_path = "customization/entity_fields.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> PathforaJS SDK</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Pathfora JS</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Modules</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="#">API Reference</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/methods/">Methods</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/config/">Generalized Configuration</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Types</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../types/message/">Message</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../types/form/">Form</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../types/subscription/">Subscription</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../types/gate/">Gate</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Layouts</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../layouts/modal/">Modal</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../layouts/slideout/">Slideout</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../layouts/bar/">Bar</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../layouts/button/">Button</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../layouts/inline/">Inline</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="#">Customization</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../buttons/">Action Buttons</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../themes/">Color Themes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../css/">Custom CSS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../form/">Form Elements</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../form_builder/">Form Schema Builder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../form_legacy/">Form Elements (Legacy)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../responsive/">Responsive Styles</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Entity Fields</a>
    <ul class="current">
    </ul>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../ab_testing/">A/B Testing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../targeting/">Audience Targeting</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../callbacks/">Callbacks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../content_recommend/">Content Recommendations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../display_conditions/">Display Conditions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tracking/">Tracking</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Inline Personalization</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../toggle/">Element Toggle</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../inline_content/">Inline Content Recommendations</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">PathforaJS SDK</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Customization &raquo;</li>
        
      
        
          <li>Modules &raquo;</li>
        
      
    
    <li>Entity Fields</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>If you have a whitelisted entity fields in Lytics or a custom data field in javascript, you can include them in your message, headline, image, or confirm callback function field using a simple template that pathfora will recognize and replace with field data. These dynamic field templates allow you to further personalize the customer experience of your module.</p>
<h1 id="entity-field-templates">Entity Field Templates</h1>
<p>Any field that is available via <code>window.lio.data</code> can be placed into a module's message, headline, or image. For example, if you wanted to include the user's name in the headline of a module:</p>
<pre><code class="javascript">var module = new pathfora.Message({
  id: 'welcome-back',
  layout: 'modal',
  headline: 'Welcome back, {{name}}.',
  msg: 'Thanks for returning. Please check out our new products.'
});

pathfora.initializeWidgets([module]);
</code></pre>

<p>Pathfora will attempt to replace <code>{{name}}</code> with the value of <code>window.lio.data.name</code>. Similarly, if you wanted to include a subfield, you can use dot notation in the template. <code>{{last_cta.resource}}</code> would be replaced with the value of <code>window.lio.data.last_cta.resource</code>.</p>
<p>In addition to using Lytics entity fields, you can pass pathfora the value of a field to include in a module using the <code>window.pathfora.customData</code> object: </p>
<pre><code class="javascript">pathfora.customData.name = 'Jon Snow';
</code></pre>

<p>For example, if a user submits a form on your website asking for their info and you would like to immediately use this data in a module, you can add it to the customData object before initializing the widget and use an entity field template.</p>
<p>If the data isn't present for the user viewing the modal there are a couple options available to control the behavior of the module. By default if there is no fallback defined for the field, pathfora will prevent the module from being displayed for visitors who lack the necessary fields. This behavior can be changed with the <a href="../../display_conditions#showonmissingfields">showOnMissingFields</a> display condition.</p>
<h1 id="defining-a-fallback-default-value">Defining a Fallback (default) Value</h1>
<p>Alternatively, we can define a fallback or "default" value to be shown in case the user is missing the data. To define a fallback value, place it after the field name and a <code>|</code> character in the template. Building from the previous example:</p>
<pre><code class="javascript">var module = new pathfora.Message({
  id: 'welcome-back',
  layout: 'modal',
  headline: 'Welcome back, {{name | Valued Customer}}.',
  msg: 'Thanks for returning. Please check out our new products.'
});

pathfora.initializeWidgets([module]);
</code></pre>

<p>In this example all visitors who lack the "name" field will be greeted with "Wecome back, Valued Customer".</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../ab_testing/" class="btn btn-neutral float-right" title="A/B Testing">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../responsive/" class="btn btn-neutral" title="Responsive Styles"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../responsive/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../ab_testing/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" defer></script>
      <script src="../../assets/pre.js" defer></script>
      <script src="../../assets/builder.js" defer></script>
      <script src="../../assets/vendor/formbuilder.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
